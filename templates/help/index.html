{% extends 'base.html' %}
{% load static %}

{% block title %}Help & Support - Cargo Tracking MIS{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
<style>
    :root {
        --primary-color: #4e73df;
        --primary-hover: #2e59d9;
        --success-color: #1cc88a;
        --warning-color: #f6c23e;
        --danger-color: #e74a3b;
        --info-color: #36b9cc;
        --light-bg: #f8f9fc;
        --border-color: #e3e6f0;
        --text-muted: #858796;
    }
    
    .breadcrumb-custom {
        padding: 15px 20px;
        margin-bottom: 20px;
        font-size: 0.9rem;
    }
    
    .help-hero {
        background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-hover) 100%);
        color: white;
        padding: 60px 0;
        border-radius: 8px;
        margin-bottom: 40px;
        text-align: center;
    }
    
    .tabs-container {
        background: white;
        border-radius: 8px;
        box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
        overflow: hidden;
        margin-bottom: 30px;
    }
    
    .tabs-header {
        background: var(--light-bg);
        border-bottom: 1px solid var(--border-color);
        padding: 0;
    }
    
    .tabs-nav {
        display: flex;
        flex-wrap: wrap;
        margin: 0;
        padding: 0;
        list-style: none;
    }
    
    .tab-link {
        padding: 20px 30px;
        background: none;
        border: none;
        border-bottom: 3px solid transparent;
        font-weight: 600;
        color: var(--text-muted);
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 15px;
    }
    
    .tab-link:hover {
        color: var(--primary-color);
        background: rgba(78, 115, 223, 0.05);
    }
    
    .tab-link.active {
        color: var(--primary-color);
        border-bottom-color: var(--primary-color);
        background: white;
    }
    
    .tab-content {
        display: none;
        padding: 30px;
        animation: fadeIn 0.3s ease;
    }
    
    .tab-content.active {
        display: block;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .feature-card {
        background: white;
        border-radius: 8px;
        padding: 30px;
        box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
        text-align: center;
        height: 100%;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 0.5rem 2rem 0 rgba(58, 59, 69, 0.2);
    }
    
    .feature-card i {
        font-size: 3rem;
        color: var(--primary-color);
        margin-bottom: 20px;
    }
    
    .quick-action-card {
        background: var(--light-bg);
        border-radius: 8px;
        padding: 25px;
        margin-bottom: 20px;
        transition: all 0.3s ease;
        text-decoration: none;
        color: inherit;
        display: block;
    }
    
    .quick-action-card:hover {
        background: white;
        box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.1);
        text-decoration: none;
        color: inherit;
        transform: translateY(-2px);
    }
    
    .support-card {
        background: white;
        border-radius: 8px;
        padding: 25px;
        box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
        text-align: center;
        margin-bottom: 20px;
    }
    
    .support-card i {
        font-size: 2.5rem;
        color: var(--primary-color);
        margin-bottom: 15px;
    }
    
    .faq-item {
        border-bottom: 1px solid var(--border-color);
        padding: 20px 0;
    }
    
    .faq-item:last-child {
        border-bottom: none;
    }
    
    .faq-question {
        font-weight: 600;
        color: var(--primary-color);
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
    }
    
    .faq-answer {
        color: var(--text-muted);
        margin-top: 10px;
        display: none;
        padding-left: 20px;
    }
    
    .faq-question::after {
        content: '\F282';
        font-family: 'bootstrap-icons';
        transition: transform 0.3s ease;
    }
    
    .faq-question.active::after {
        transform: rotate(180deg);
    }
    
    .video-guide {
        background: var(--light-bg);
        border-radius: 8px;
        padding: 25px;
        text-align: center;
        margin-bottom: 20px;
    }
    
    .video-placeholder {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        height: 160px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        margin-bottom: 15px;
    }
    
    .contact-form {
        background: white;
        border-radius: 8px;
        padding: 30px;
        box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
    }
    
    .urgent-support {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        border-radius: 8px;
        padding: 25px;
        text-align: center;
        margin-top: 20px;
    }
    
    .resource-link {
        display: block;
        padding: 15px;
        background: white;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        margin-bottom: 10px;
        text-decoration: none;
        color: inherit;
        transition: all 0.3s ease;
    }
    
    .resource-link:hover {
        border-color: var(--primary-color);
        background: var(--light-bg);
        text-decoration: none;
        color: inherit;
        transform: translateX(5px);
    }
    
    .search-box {
        position: relative;
        max-width: 500px;
        margin: 0 auto;
    }
    
    .search-box input {
        padding-left: 50px;
        border-radius: 25px;
        border: none;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .search-icon {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-muted);
        z-index: 5;
    }
    
    .section-title {
        font-size: 24px;
        font-weight: 600;
        margin-bottom: 25px;
        color: #111827;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .btn {
        padding: 10px 20px;
        border-radius: 6px;
        text-decoration: none;
        font-weight: 500;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s;
        border: none;
        cursor: pointer;
        font-size: 14px;
    }
    
    .btn-primary {
        background: var(--primary-color);
        color: white;
    }
    
    .btn-primary:hover {
        background: var(--primary-hover);
        color: white;
        text-decoration: none;
    }
    
    .btn-outline-primary {
        background: transparent;
        color: var(--primary-color);
        border: 1px solid var(--primary-color);
    }
    
    .btn-outline-primary:hover {
        background: var(--primary-color);
        color: white;
        text-decoration: none;
    }
    
    .empty-state {
        padding: 40px 20px;
        text-align: center;
        color: var(--text-muted);
    }
    
    .empty-state i {
        font-size: 2.5rem;
        margin-bottom: 15px;
        opacity: 0.5;
    }
    
    @media (max-width: 768px) {
        .tabs-nav {
            flex-direction: column;
        }
        
        .tab-link {
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            border-left: 3px solid transparent;
        }
        
        .tab-link.active {
            border-left-color: var(--primary-color);
            border-bottom-color: var(--border-color);
        }
        
        .tab-content {
            padding: 20px;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <!-- Breadcrumb -->
    <div class="breadcrumb-custom">
        <a href="{% url 'dashboard' %}"><i class="bi bi-house-door"></i> Home</a>
        <span>/</span>
        <span>Help & Support</span>
    </div>

    <!-- Hero Section -->
    <div class="help-hero">
        <div class="container">
            <h1 class="display-5 fw-bold mb-3"><i class="bi bi-question-circle me-3"></i>Help & Support Center</h1>
            <p class="lead mb-4">Get assistance, learn how to use the system, and find answers to common questions</p>
            <div class="search-box">
                <div class="input-group">
                    <i class="bi bi-search search-icon"></i>
                    <input type="text" class="form-control form-control-lg" placeholder="What do you need help with?">
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="container mb-5">
        <div class="row">
            <div class="col-12">
                <h2 class="h4 mb-4">Quick Actions</h2>
            </div>
            <div class="col-md-6 col-lg-3 mb-4">
                <a href="{% url 'documentation' %}" class="quick-action-card">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-file-text fs-1 text-primary me-3"></i>
                        <div>
                            <h5 class="mb-1 text-dark">Documentation</h5>
                            <p class="mb-0 text-muted">Complete system guides</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-6 col-lg-3 mb-4">
                <a href="#" class="quick-action-card" data-tab="videos">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-play-circle fs-1 text-primary me-3"></i>
                        <div>
                            <h5 class="mb-1 text-dark">Video Guides</h5>
                            <p class="mb-0 text-muted">Step-by-step tutorials</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-6 col-lg-3 mb-4">
                <a href="#" class="quick-action-card" data-tab="faq">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-patch-question fs-1 text-primary me-3"></i>
                        <div>
                            <h5 class="mb-1 text-dark">FAQ</h5>
                            <p class="mb-0 text-muted">Common questions</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-6 col-lg-3 mb-4">
                <a href="#" class="quick-action-card" data-tab="contact">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-headset fs-1 text-primary me-3"></i>
                        <div>
                            <h5 class="mb-1 text-dark">Contact Support</h5>
                            <p class="mb-0 text-muted">Get direct help</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <!-- Main Content Tabs -->
    <div class="container">
        <div class="tabs-container">
            <div class="tabs-header">
                <ul class="tabs-nav">
                    <li>
                        <button class="tab-link active" data-tab="overview">
                            <i class="bi bi-grid"></i>
                            Overview
                        </button>
                    </li>
                    <li>
                        <button class="tab-link" data-tab="videos">
                            <i class="bi bi-play-circle"></i>
                            Video Guides
                        </button>
                    </li>
                    <li>
                        <button class="tab-link" data-tab="faq">
                            <i class="bi bi-patch-question"></i>
                            FAQ
                        </button>
                    </li>
                    <li>
                        <button class="tab-link" data-tab="contact">
                            <i class="bi bi-headset"></i>
                            Contact Support
                        </button>
                    </li>
                    <li>
                        <button class="tab-link" data-tab="resources">
                            <i class="bi bi-folder"></i>
                            Resources
                        </button>
                    </li>
                </ul>
            </div>

            <!-- Overview Tab -->
            <div class="tab-content active" id="overview">
                <h2 class="section-title">
                    <i class="bi bi-grid text-primary"></i>
                    System Overview
                </h2>
                <p class="text-muted mb-4">Learn about all the features and capabilities of the Cargo Tracking MIS</p>
                
                <div class="row">
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="feature-card">
                            <i class="bi bi-box-seam"></i>
                            <h4>Cargo Tracking</h4>
                            <p>Learn how to track shipments, update status, and manage cargo movements efficiently.</p>
                            <a href="{% url 'documentation' %}#cargo-tracking" class="btn btn-outline-primary">Learn More</a>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="feature-card">
                            <i class="bi bi-truck"></i>
                            <h4>Supplier Management</h4>
                            <p>Manage supplier information, track performance, and optimize your supply chain.</p>
                            <a href="{% url 'documentation' %}#supplier-management" class="btn btn-outline-primary">Learn More</a>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="feature-card">
                            <i class="bi bi-building"></i>
                            <h4>Warehouse Operations</h4>
                            <p>Understand warehouse management, capacity tracking, and inventory control.</p>
                            <a href="{% url 'documentation' %}#warehouse-management" class="btn btn-outline-primary">Learn More</a>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="feature-card">
                            <i class="bi bi-graph-up"></i>
                            <h4>Reports & Analytics</h4>
                            <p>Generate insights with comprehensive reports and performance analytics.</p>
                            <a href="{% url 'documentation' %}#reports-analytics" class="btn btn-outline-primary">Learn More</a>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="feature-card">
                            <i class="bi bi-bell"></i>
                            <h4>Alerts & Notifications</h4>
                            <p>Set up and manage alerts for delays, capacity issues, and system events.</p>
                            <a href="{% url 'documentation' %}#alerts-notifications" class="btn btn-outline-primary">Learn More</a>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-4">
                        <div class="feature-card">
                            <i class="bi bi-people"></i>
                            <h4>User Management</h4>
                            <p>Manage user accounts, permissions, and system access controls.</p>
                            <a href="{% url 'documentation' %}#user-management" class="btn btn-outline-primary">Learn More</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Guides Tab -->
            <div class="tab-content" id="videos">
                <h2 class="section-title">
                    <i class="bi bi-play-circle text-primary"></i>
                    Video Tutorials
                </h2>
                <p class="text-muted mb-4">Watch step-by-step guides to master the system features</p>
                
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <div class="video-guide">
                            <div class="video-placeholder">
                                <i class="bi bi-play-circle-fill" style="font-size: 3rem;"></i>
                            </div>
                            <h5>Getting Started with Cargo Tracking</h5>
                            <p class="text-muted">Learn the basics of creating and tracking cargo shipments</p>
                            <button class="btn btn-primary">Watch Tutorial</button>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="video-guide">
                            <div class="video-placeholder">
                                <i class="bi bi-play-circle-fill" style="font-size: 3rem;"></i>
                            </div>
                            <h5>Supplier Performance Analytics</h5>
                            <p class="text-muted">Understand how to analyze and improve supplier performance</p>
                            <button class="btn btn-primary">Watch Tutorial</button>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="video-guide">
                            <div class="video-placeholder">
                                <i class="bi bi-play-circle-fill" style="font-size: 3rem;"></i>
                            </div>
                            <h5>Warehouse Capacity Management</h5>
                            <p class="text-muted">Optimize your warehouse space and track utilization</p>
                            <button class="btn btn-primary">Watch Tutorial</button>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="video-guide">
                            <div class="video-placeholder">
                                <i class="bi bi-play-circle-fill" style="font-size: 3rem;"></i>
                            </div>
                            <h5>Generating Custom Reports</h5>
                            <p class="text-muted">Create and export comprehensive business reports</p>
                            <button class="btn btn-primary">Watch Tutorial</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAQ Tab -->
            <div class="tab-content" id="faq">
                <h2 class="section-title">
                    <i class="bi bi-patch-question text-primary"></i>
                    Frequently Asked Questions
                </h2>
                
                <div class="row">
                    <div class="col-lg-8">
                        <div class="faq-item">
                            <div class="faq-question">How do I track a cargo shipment?</div>
                            <div class="faq-answer">
                                <p>To track a cargo shipment, go to the Cargo Tracking section and use the search or filter functionality. You can view real-time status updates, location information, and estimated arrival times.</p>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question">What information do I need to add a new supplier?</div>
                            <div class="faq-answer">
                                <p>When adding a new supplier, you'll need their business name, KRA PIN number, contact information, physical address, and details about the goods they supply. The system will validate the KRA PIN format automatically.</p>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question">How are supplier performance scores calculated?</div>
                            <div class="faq-answer">
                                <p>Supplier performance scores are calculated based on multiple factors including on-time delivery rate, quality of goods, delivery duration, and reliability. The system weights these factors to generate an overall score from 0-100.</p>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question">Can I export reports to Excel or PDF?</div>
                            <div class="faq-answer">
                                <p>Yes, all reports can be exported to multiple formats including Excel, PDF, and CSV. Use the export button in the reports section to download your data in the preferred format.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="support-card">
                            <i class="bi bi-search"></i>
                            <h5>Can't find your answer?</h5>
                            <p class="text-muted">Search our knowledge base or contact our support team for assistance.</p>
                            <div class="search-box">
                                <div class="input-group">
                                    <i class="bi bi-search search-icon"></i>
                                    <input type="text" class="form-control" placeholder="Search FAQs...">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Support Tab -->
            <div class="tab-content" id="contact">
                <h2 class="section-title">
                    <i class="bi bi-headset text-primary"></i>
                    Contact Support
                </h2>
                
                <div class="row">
                    <div class="col-lg-8 mb-4">
                        <div class="contact-form">
                            <form>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Your Name</label>
                                        <input type="text" class="form-control" required>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Email Address</label>
                                        <input type="email" class="form-control" required>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Subject</label>
                                    <input type="text" class="form-control" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Category</label>
                                    <select class="form-select" required>
                                        <option value="">Select a category</option>
                                        <option value="technical">Technical Issue</option>
                                        <option value="feature">Feature Request</option>
                                        <option value="training">Training Question</option>
                                        <option value="billing">Billing Inquiry</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Description</label>
                                    <textarea class="form-control" rows="5" placeholder="Please describe your issue in detail..." required></textarea>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Attachments (Optional)</label>
                                    <input type="file" class="form-control" multiple>
                                    <div class="form-text">You can attach screenshots or documents to help us understand your issue better.</div>
                                </div>
                                <button type="submit" class="btn btn-primary">Submit Support Request</button>
                            </form>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <div class="support-card">
                            <i class="bi bi-envelope"></i>
                            <h5>Email Support</h5>
                            <p class="text-muted">Get help via email with detailed responses</p>
                            <strong>support@cargotracking.com</strong>
                            <p class="small text-muted mt-2">Response time: Within 4 hours</p>
                        </div>
                        
                        <div class="support-card">
                            <i class="bi bi-telephone"></i>
                            <h5>Phone Support</h5>
                            <p class="text-muted">Speak directly with our support team</p>
                            <strong>+254 700 123 456</strong>
                            <p class="small text-muted mt-2">Mon-Fri: 8:00 AM - 6:00 PM EAT</p>
                        </div>
                        
                        <div class="urgent-support">
                            <h5><i class="bi bi-exclamation-triangle me-2"></i>Urgent Support</h5>
                            <p class="mb-3">For critical system issues affecting business operations</p>
                            <strong>+254 711 987 654</strong>
                            <p class="small mt-2">24/7 emergency support line</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resources Tab -->
            <div class="tab-content" id="resources">
                <h2 class="section-title">
                    <i class="bi bi-folder text-primary"></i>
                    Help Resources
                </h2>
                
                <div class="row">
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <a href="{% url 'documentation' %}" class="resource-link">
                                    <div class="d-flex align-items-center">
                                        <i class="bi bi-file-pdf text-danger me-3 fs-4"></i>
                                        <div>
                                            <h6 class="mb-1">System Manual</h6>
                                            <small class="text-muted">Complete user guide (PDF)</small>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="col-md-6 mb-4">
                                <a href="#" class="resource-link">
                                    <div class="d-flex align-items-center">
                                        <i class="bi bi-card-checklist text-success me-3 fs-4"></i>
                                        <div>
                                            <h6 class="mb-1">Setup Checklist</h6>
                                            <small class="text-muted">Initial system configuration</small>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="col-md-6 mb-4">
                                <a href="#" class="resource-link">
                                    <div class="d-flex align-items-center">
                                        <i class="bi bi-shield-check text-warning me-3 fs-4"></i>
                                        <div>
                                            <h6 class="mb-1">Security Guidelines</h6>
                                            <small class="text-muted">Best practices for data security</small>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="col-md-6 mb-4">
                                <a href="#" class="resource-link">
                                    <div class="d-flex align-items-center">
                                        <i class="bi bi-lightning-charge text-info me-3 fs-4"></i>
                                        <div>
                                            <h6 class="mb-1">Keyboard Shortcuts</h6>
                                            <small class="text-muted">Speed up your workflow</small>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="support-card">
                            <i class="bi bi-download"></i>
                            <h5>Download Resources</h5>
                            <p class="text-muted">Access all our help materials in one place</p>
                            <button class="btn btn-outline-primary w-100">
                                <i class="bi bi-download me-2"></i>
                                Download All Resources
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Tab functionality
        const tabLinks = document.querySelectorAll('.tab-link');
        const tabContents = document.querySelectorAll('.tab-content');
        const quickActions = document.querySelectorAll('.quick-action-card[data-tab]');

        function switchTab(tabId) {
            // Hide all tab contents
            tabContents.forEach(content => {
                content.classList.remove('active');
            });

            // Remove active class from all tab links
            tabLinks.forEach(link => {
                link.classList.remove('active');
            });

            // Show selected tab content
            const selectedTab = document.getElementById(tabId);
            if (selectedTab) {
                selectedTab.classList.add('active');
            }

            // Activate corresponding tab link
            const correspondingLink = document.querySelector(`.tab-link[data-tab="${tabId}"]`);
            if (correspondingLink) {
                correspondingLink.classList.add('active');
            }
        }

        // Add click event to tab links
        tabLinks.forEach(link => {
            link.addEventListener('click', function() {
                const tabId = this.getAttribute('data-tab');
                switchTab(tabId);
            });
        });

        // Add click event to quick action cards
        quickActions.forEach(action => {
            action.addEventListener('click', function(e) {
                e.preventDefault();
                const tabId = this.getAttribute('data-tab');
                switchTab(tabId);
            });
        });

        // FAQ Accordion functionality
        const faqQuestions = document.querySelectorAll('.faq-question');
        
        faqQuestions.forEach(question => {
            question.addEventListener('click', function() {
                const answer = this.nextElementSibling;
                const isActive = this.classList.contains('active');
                
                // Toggle current FAQ
                if (!isActive) {
                    this.classList.add('active');
                    answer.style.display = 'block';
                } else {
                    this.classList.remove('active');
                    answer.style.display = 'none';
                }
            });
        });

        // Search functionality for FAQ tab
        const faqSearchInput = document.querySelector('#faq .search-box input');
        
        if (faqSearchInput) {
            faqSearchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const faqItems = document.querySelectorAll('#faq .faq-item');
                
                faqItems.forEach(item => {
                    const question = item.querySelector('.faq-question').textContent.toLowerCase();
                    const answer = item.querySelector('.faq-answer').textContent.toLowerCase();
                    
                    if (question.includes(searchTerm) || answer.includes(searchTerm)) {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    });
</script>
{% endblock %}